{
  "additionalProperties": false,
  "description": "Laser-Plasma Acceleration Metadata",
  "properties": {
    "ENABLE_IONS": {
      "default": true,
      "description": "Enable ion species",
      "title": "Enable Ions",
      "type": "boolean"
    },
    "ENABLE_IONIZATION": {
      "default": true,
      "description": "Enable ionization processes",
      "title": "Enable Ionization",
      "type": "boolean"
    },
    "ADD_CUSTOM_INPUT": {
      "default": true,
      "description": "Add custom user input blocks",
      "title": "Add Custom Input",
      "type": "boolean"
    },
    "OUTPUT_DIRECTORY_PATH": {
      "default": "lwfa",
      "description": "Output directory name",
      "title": "Output Directory Path",
      "type": "string"
    },
    "n_macroparticles_per_cell": {
      "default": 2,
      "description": "Number of macroparticles per cell for PseudoRandomLayout",
      "minimum": 1,
      "title": "Number of Macroparticles per Cell",
      "type": "integer"
    },
    "picongpu_n_gpus": {
      "default": [
        2,
        4,
        1
      ],
      "description": "Number of GPUs in each dimension [x, y, z]",
      "items": {
        "type": "integer"
      },
      "title": "Number of GPUs per Dimension",
      "type": "array"
    },
    "pulse_init": {
      "default": 15.0,
      "description": "Factor for laser centroid position",
      "exclusiveMinimum": 0,
      "title": "Pulse Initialization Factor",
      "type": "number"
    },
    "max_steps": {
      "default": 4000,
      "description": "Maximum simulation steps",
      "minimum": 1,
      "title": "Maximum Steps",
      "type": "integer"
    },
    "time_step_size": {
      "default": 1.39e-16,
      "description": "Simulation time step size (s)",
      "exclusiveMinimum": 0,
      "title": "Time Step Size",
      "type": "number"
    },
    "moving_window_move_point": {
      "default": 0.9,
      "description": "Moving window trigger point",
      "maximum": 1,
      "minimum": 0,
      "title": "Moving Window Move Point",
      "type": "number"
    },
    "walltime_hours": {
      "default": 2.0,
      "description": "Simulation walltime in hours",
      "exclusiveMinimum": 0,
      "title": "Walltime (Hours)",
      "type": "number"
    },
    "number_of_cells": {
      "default": [
        192,
        2048,
        192
      ],
      "description": "Number of cells in each dimension [x, y, z]",
      "items": {
        "type": "integer"
      },
      "title": "Number of Cells",
      "type": "array"
    },
    "cell_size": {
      "default": [
        1.772e-07,
        4.43e-08,
        1.772e-07
      ],
      "description": "Cell size in each dimension [x, y, z] (m)",
      "items": {
        "type": "number"
      },
      "title": "Cell Size",
      "type": "array"
    },
    "lower_bound": {
      "default": [
        0.0,
        0.0,
        0.0
      ],
      "description": "Lower bound in each dimension [x, y, z] (m)",
      "items": {
        "type": "number"
      },
      "title": "Lower Bound",
      "type": "array"
    },
    "upper_bound": {
      "default": [
        3.40224e-05,
        9.07264e-05,
        3.40224e-05
      ],
      "description": "Upper bound in each dimension [x, y, z] (m)",
      "items": {
        "type": "number"
      },
      "title": "Upper Bound",
      "type": "array"
    },
    "lower_boundary_conditions": {
      "default": [
        "open",
        "open",
        "open"
      ],
      "description": "Boundary conditions for lower bounds [x, y, z]",
      "enum": [
        "open",
        "periodic",
        "reflective"
      ],
      "items": {
        "type": "string"
      },
      "title": "Lower Boundary Conditions",
      "type": "array"
    },
    "upper_boundary_conditions": {
      "default": [
        "open",
        "open",
        "open"
      ],
      "description": "Boundary conditions for upper bounds [x, y, z]",
      "enum": [
        "open",
        "periodic",
        "reflective"
      ],
      "items": {
        "type": "string"
      },
      "title": "Upper Boundary Conditions",
      "type": "array"
    },
    "solver_method": {
      "default": "Yee",
      "enum": [
        "Yee",
        "Lehe"
      ],
      "title": "Solver Method",
      "type": "string"
    },
    "density": {
      "default": 1e+25,
      "exclusiveMinimum": 0,
      "title": "Density",
      "type": "number"
    },
    "center_front": {
      "default": 8e-05,
      "exclusiveMinimum": 0,
      "title": "Center Front",
      "type": "number"
    },
    "sigma_front": {
      "default": 8e-05,
      "exclusiveMinimum": 0,
      "title": "Sigma Front",
      "type": "number"
    },
    "center_rear": {
      "default": 0.0001,
      "exclusiveMinimum": 0,
      "title": "Center Rear",
      "type": "number"
    },
    "sigma_rear": {
      "default": 8e-05,
      "exclusiveMinimum": 0,
      "title": "Sigma Rear",
      "type": "number"
    },
    "factor": {
      "default": -1.0,
      "title": "Factor",
      "type": "number"
    },
    "power": {
      "default": 4.0,
      "title": "Power",
      "type": "number"
    },
    "vacuum_cells_front": {
      "default": 50,
      "minimum": 0,
      "title": "Vacuum Cells Front",
      "type": "integer"
    },
    "wavelength": {
      "default": 8e-07,
      "exclusiveMinimum": 0,
      "title": "Wavelength",
      "type": "number"
    },
    "waist": {
      "default": 4.246609082647506e-06,
      "exclusiveMinimum": 0,
      "title": "Waist",
      "type": "number"
    },
    "duration": {
      "default": 5e-15,
      "exclusiveMinimum": 0,
      "title": "Duration",
      "type": "number"
    },
    "propagation_direction": {
      "default": [
        0.0,
        1.0,
        0.0
      ],
      "description": "Laser propagation direction [x, y, z]",
      "items": {
        "type": "number"
      },
      "title": "Propagation Direction",
      "type": "array"
    },
    "polarization_direction": {
      "default": [
        1.0,
        0.0,
        0.0
      ],
      "description": "Laser polarization direction [x, y, z]",
      "items": {
        "type": "number"
      },
      "title": "Polarization Direction",
      "type": "array"
    },
    "focal_position": {
      "default": [
        1.70112e-05,
        4.62e-05,
        1.70112e-05
      ],
      "description": "Laser focal position [x, y, z] (m)",
      "items": {
        "type": "number"
      },
      "title": "Focal Position",
      "type": "array"
    },
    "centroid_position": {
      "default": [
        1.70112e-05,
        -1.1249999999999999e-05,
        1.70112e-05
      ],
      "description": "Laser centroid position [x, y, z] (m)",
      "items": {
        "type": "number"
      },
      "title": "Centroid Position",
      "type": "array"
    },
    "phase": {
      "default": 0.0,
      "minimum": 0,
      "title": "Phase",
      "type": "number"
    },
    "polarization_type": {
      "default": "LINEAR",
      "enum": [
        "CIRCULAR",
        "LINEAR"
      ],
      "title": "Polarization Type",
      "type": "string"
    },
    "a0": {
      "default": 1.0,
      "description": "Laser normalized vector potential",
      "exclusiveMinimum": 0,
      "title": "Normalized Vector Potential",
      "type": "number"
    },
    "species": {
      "items": {
        "$ref": "#/definitions/SpeciesConfig"
      },
      "title": "Species",
      "type": "array"
    },
    "ionization_models": {
      "items": {
        "$ref": "#/definitions/IonizationModelConfig"
      },
      "title": "Ionization Models",
      "type": "array"
    },
    "diagnostics": {
      "items": {
        "$ref": "#/definitions/DiagnosticsConfig"
      },
      "title": "Diagnostics",
      "type": "array"
    },
    "custom_user_input": {
      "$ref": "#/definitions/CustomInputConfig",
      "title": "Custom User Input"
    }
  },
  "required": [
    "ENABLE_IONS",
    "ENABLE_IONIZATION",
    "ADD_CUSTOM_INPUT",
    "OUTPUT_DIRECTORY_PATH",
    "n_macroparticles_per_cell",
    "picongpu_n_gpus",
    "pulse_init",
    "max_steps",
    "time_step_size",
    "moving_window_move_point",
    "walltime_hours",
    "number_of_cells",
    "cell_size",
    "lower_bound",
    "upper_bound",
    "lower_boundary_conditions",
    "upper_boundary_conditions",
    "solver_method",
    "density",
    "center_front",
    "sigma_front",
    "center_rear",
    "sigma_rear",
    "factor",
    "power",
    "vacuum_cells_front",
    "wavelength",
    "waist",
    "duration",
    "propagation_direction",
    "polarization_direction",
    "focal_position",
    "centroid_position",
    "a0",
    "phase",
    "polarization_type",
    "species",
    "ionization_models",
    "diagnostics",
    "custom_user_input"
  ],
  "title": "SimulationConfig",
  "type": "object",
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "CustomInputConfig": {
      "additionalProperties": false,
      "properties": {
        "minimum_weight": {
          "default": 10.0,
          "description": "Minimum particle weight",
          "minimum": 0,
          "title": "Minimum Weight",
          "type": "number"
        }
      },
      "required": [
        "minimum_weight"
      ],
      "title": "CustomInputConfig",
      "type": "object"
    },
    "DiagnosticsConfig": {
      "additionalProperties": false,
      "properties": {
        "type": {
          "default": "PhaseSpace",
          "description": "Type of diagnostic",
          "enum": [
            "PhaseSpace",
            "EnergyHistogram",
            "MacroParticleCount",
            "Png",
            "Checkpoint",
            "OpenPMD"
          ],
          "title": "Diagnostic Type",
          "type": "string"
        },
        "species_name": {
          "default": "electron",
          "description": "Species to diagnose",
          "title": "Species Name",
          "type": "string"
        },
        "period": {
          "default": "[::100, 50:72:7, 17]",
          "description": "Time step specification, e.g., '[::100, 50:72:7, 17]' for PhaseSpace",
          "title": "Period",
          "type": "string"
        },
        "spatial_coordinate": {
          "default": "y",
          "description": "Spatial coordinate for PhaseSpace",
          "enum": [
            "x",
            "y",
            "z"
          ],
          "title": "Spatial Coordinate",
          "type": "string"
        },
        "momentum_coordinate": {
          "default": "py",
          "description": "Momentum coordinate for PhaseSpace",
          "enum": [
            "px",
            "py",
            "pz"
          ],
          "title": "Momentum Coordinate",
          "type": "string"
        },
        "min_momentum": {
          "default": -1.0,
          "description": "Minimum momentum for PhaseSpace",
          "title": "Minimum Momentum",
          "type": "number"
        },
        "max_momentum": {
          "default": 1.0,
          "description": "Maximum momentum for PhaseSpace",
          "title": "Maximum Momentum",
          "type": "number"
        },
        "bin_count": {
          "default": 1024,
          "description": "Number of bins for EnergyHistogram",
          "minimum": 1,
          "title": "Bin Count",
          "type": "integer"
        },
        "min_energy": {
          "default": 0.0,
          "description": "Minimum energy for EnergyHistogram",
          "minimum": 0,
          "title": "Minimum Energy",
          "type": "number"
        },
        "max_energy": {
          "default": 1000.0,
          "description": "Maximum energy for EnergyHistogram",
          "exclusiveMinimum": 0,
          "title": "Maximum Energy",
          "type": "number"
        }
      },
      "required": [
        "type",
        "species_name",
        "period",
        "spatial_coordinate",
        "momentum_coordinate",
        "min_momentum",
        "max_momentum",
        "bin_count",
        "min_energy",
        "max_energy"
      ],
      "title": "DiagnosticsConfig",
      "type": "object"
    },
    "IonizationModelConfig": {
      "additionalProperties": false,
      "properties": {
        "model_type": {
          "default": "ADK",
          "description": "Ionization model type",
          "enum": [
            "ADK",
            "BSI"
          ],
          "title": "Model Type",
          "type": "string"
        },
        "variant": {
          "default": "LinearPolarization",
          "description": "Model variant",
          "enum": [
            "LinearPolarization",
            "CircularPolarization"
          ],
          "title": "Variant",
          "type": "string"
        },
        "ion_species": {
          "default": "hydrogen",
          "description": "Ion species name",
          "title": "Ion Species",
          "type": "string"
        },
        "bsi_extensions": {
          "default": [
            "EffectiveZ"
          ],
          "description": "BSI extensions (used for BSI model)",
          "enum": [
            "EffectiveZ"
          ],
          "items": {
            "type": "string"
          },
          "title": "BSI Extensions",
          "type": "array"
        }
      },
      "required": [
        "model_type",
        "variant",
        "ion_species",
        "bsi_extensions"
      ],
      "title": "IonizationModelConfig",
      "type": "object",
      "visible_if": {
        "ENABLE_IONIZATION": true
      }
    },
    "SpeciesConfig": {
      "additionalProperties": false,
      "properties": {
        "particle_type": {
          "default": "electron",
          "description": "Particle type (see openPMD standard)",
          "enum": [
            "electron",
            "H",
            "He",
            "Cu",
            "other"
          ],
          "title": "Particle Type",
          "type": "string"
        },
        "name": {
          "default": "electron",
          "description": "Species name",
          "title": "Name",
          "type": "string"
        },
        "charge_state": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Charge state for ions (required if ENABLE_IONIZATION=True)",
          "title": "Charge State",
          "visible_if": {
            "ENABLE_IONIZATION": true,
            "particle_type": {
              "not": "electron"
            }
          }
        },
        "picongpu_fixed_charge": {
          "anyOf": [
            {
              "type": "boolean"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "Fix charge for PIConGPU (required if ENABLE_IONIZATION=False and ENABLE_IONS=True)",
          "title": "Fix Charge for PIConGPU",
          "visible_if": {
            "ENABLE_IONIZATION": false,
            "ENABLE_IONS": true,
            "particle_type": {
              "not": "electron"
            }
          }
        }
      },
      "required": [
        "particle_type",
        "name"
      ],
      "title": "SpeciesConfig",
      "type": "object"
    }
  }
}